# Nord City: документация миграции

В этой папке описано, как перевести проект на новую архитектуру. Главные изменения: полный отказ от RabbitMQ и Docker, связь между сервисами по HTTP (FastAPI), единый базовый класс для HTTP-логики и клиенты в стиле прокси с явным перечислением методов, явное API в web_service без автогенерации маршрутов и без сложной цепочки сериализации, разделение моделей для обмена между сервисами (базовые модели со всеми полями) и для сайта (request/response DTO по контракту API фронта).

**Как пользоваться документацией.** Начните с [01-MIGRATION-PLAN.md](01-MIGRATION-PLAN.md): там текущее и целевое состояние, четыре пункта миграции и порядок работ. В [02-HTTP-ARCHITECTURE.md](02-HTTP-ARCHITECTURE.md) описаны общий класс с логикой FastAPI и клиенты для db_service, web_service и bot_service по паттерну прокси. В [03-WEB-SERVICE-EXPLICIT-API.md](03-WEB-SERVICE-EXPLICIT-API.md) — полная таблица эндпоинтов и переработка web_service на явные обработчики. В [04-REQUEST-RESPONSE-MODELS.md](04-REQUEST-RESPONSE-MODELS.md) — правила для моделей между сервисами и для request/response DTO сайта с учётом API в web/. Локальный запуск без Docker — в [RUN-WITHOUT-DOCKER.md](RUN-WITHOUT-DOCKER.md): один .env и один venv на всю инфраструктуру. Главная точка входа — оркестратор [ORCHESTRATOR.md](ORCHESTRATOR.md): выбор сервисов через CLI (все или часть), запуск в потоках; PostgreSQL и Next.js оркестратор не управляет.
